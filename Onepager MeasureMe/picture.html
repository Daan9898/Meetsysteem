<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <!--=============== FAVICON ===============-->
        <link rel="shortcut icon" href="assets/img/favicon.png" type="image/x-icon">

        <!--=============== REMIX ICONS ===============-->
        <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">

        <!--=============== CSS ===============-->
        <link rel="stylesheet" href="assets/css/styles.css">

        <title>Take Picture</title>

</head>
<style>
    #container {
	margin: 100px auto;
	width: 500px;
	height: 375px;
	border: 2px #333 solid;
    }

    .person{
    position: absolute;
    pointer-events: none;
    z-index: 100;
    }

    #videoElement {
    width: 500px;
    height: 375px;
    -webkit-transform: scaleX(-1);
    transform: scaleX(-1);
    z-index: 101;
    }

    .button5 {
    background-color: white;
    color: black;
    border: 2px solid #555555;
    padding: 10px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 10px 2px;
    cursor: pointer;
    }



</style> 
<body>
    <!--==================== HEADER ====================-->
    <header class="header" id="header">
        <nav class="nav container">
            <a href="#" class="nav__logo">
                <i class="ri-leaf-line nav__logo-icon"></i> MeasureMe
            </a>

            <div class="nav__menu" id="nav-menu">
                <ul class="nav__list">
                    <li class="nav__item">
                        <a href="index.html #home" class="nav__link active-link">Home</a>
                    </li>
                    <li class="nav__item">
                        <a href="index.html #about" class="nav__link">About</a>
                    </li>
                    <li class="nav__item">
                        <a href="index.html #faqs" class="nav__link">FAQs</a>
                    </li>
                    <li class="nav__item">
                        <a href="index.html #contact" class="nav__link">Contact us</a>
                    </li>
                    <li class="nav__item">
                        <a  href="picture.html" target="_blank" class="nav__link" >Test It</a>
                </ul>

                <div class="nav__close" id="nav-close">
                    <i class="ri-close-line"></i>
                </div>
            </div>

            <div class="nav__btns">
                <!-- Theme change button -->
                <i class="ri-moon-line change-theme" id="theme-button"></i>

                <div class="nav__toggle" id="nav-toggle">
                    <i class="ri-menu-line"></i>
                </div>
            </div>
        </nav>
    </header>


        <div id="container">
            <picture>
                <img src="person.png" alt="person" class="person">
            </picture>
            <video autoplay="true" id="videoElement"></video>

            <button  id="click-photo" type=button value="Take Snapshot" class="button5">Take Picture</button>

                

            <form action="/action_page.php" class="filename">
                <input type="file" id="myFile" name="filename" >
                <input type="submit">
            </form>
        </div>


        <!--=============== JS OPEN CAMERA ===============-->
        <script>
            // open camera // 
            var video = document.querySelector("#videoElement");
            
            if (navigator.mediaDevices.getUserMedia) {
            navigator.mediaDevices.getUserMedia({ video: true })
                .then(function (stream) {
                video.srcObject = stream;
                })
                .catch(function (err0r) {
                console.log("Something went wrong!");
                });
            }
        </script>
        
        <!--=============== TAKES PICTURE ===============-->
        <script type="text/javascript" src="webcamjs/webcam.min.js"></script>

        <!-- Code to handle taking the snapshot and displaying it locally -->
        <script language="JavaScript">

         // Configure a few settings and attach camera
        function configure(){
            Webcam.set({
            width: 320,
            height: 240,
            image_format: 'jpeg',
            jpeg_quality: 90
            });
            Webcam.attach( '#my_camera' );
        }
        // A button for taking snaps


        // preload shutter audio clip
        var shutter = new Audio();
        shutter.autoplay = false;
        shutter.src = navigator.userAgent.match(/Firefox/) ? 'shutter.ogg' : 'shutter.mp3';

        function take_snapshot() {
            // play sound effect
            shutter.play();

            // take snapshot and get image data
            Webcam.snap( function(data_uri) {
            // display results in page
            document.getElementById('results').innerHTML = 
                '<img id="imageprev" src="'+data_uri+'"/>';
            } );

            Webcam.reset();
        }

        function saveSnap(){
        // Get base64 value from <img id='imageprev'> source
        var base64image = document.getElementById("imageprev").src;

        Webcam.upload( base64image, 'upload.php', function(code, text) {
                console.log('Save successfully');
            //console.log(text);
        });

        }
        </script>

    </body>
</html>
